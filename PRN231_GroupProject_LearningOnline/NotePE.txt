Q1
dotnet add package microsoft.entityframeworkcore.design
dotnet add package microsoft.entityframeworkcore.sqlserver
dotnet add package microsoft.extensions.configuration.json


cmd -> dotnet tool list -g
dotnet tool install dotnet-ef -g -v7.0.15(dotnet tool update dotnet-ef -g)
tool -> command line


1. tao appsettings.json
2. tao dbcontext
dotnet ef dbcontext scaffold "server=(local); database=PE_PRN_Fall2023B1;trustservercertificate=true; integrated security=true" microsoft.entityframeworkcore.sqlserver --output-dir Models -t Products -t categories -t Orders -t "Orders Details" -t Employees -f
(-f ghi đè)
3. update connectionstring trong appsettings
,"ConnectionStrings":{
"MyDB": "server=(local); database=prn221_trial;trustservercertificate=true; integrated security=true"
}

4. update onConfiguring
protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)
    {
        var builder = new ConfigurationBuilder()
                            .SetBasePath(Directory.GetCurrentDirectory())
                            .AddJsonFile("appsettings.json", optional: true, reloadOnChange: true);
        IConfigurationRoot configuration = builder.Build();
        optionsBuilder.UseSqlServer(configuration.GetConnectionString("MyDB"));
    }
//or thay Long chua
protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)
        {
            if (!optionsBuilder.IsConfigured)
            {
                var connectionString = new ConfigurationBuilder()
                                .SetBasePath(Directory.GetCurrentDirectory())
                                .AddJsonFile("appsettings.json").Build().GetConnectionString("MyDB");
                optionsBuilder.UseSqlServer(connectionString);
            }
        }

5. Update project file (Always)
<ItemGroup>
		<None Update="appsettings.json">
			<CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
		</None>
	</ItemGroup>

6. design 
-change title
-change size    1.5*  2.*

Q2
dotnet add package microsoft.entityframeworkcore.design
dotnet add package microsoft.entityframeworkcore.sqlserver

1. tao dbcontext nhu q1
dotnet ef dbcontext scaffold "server=(local);uid=sa; password=123; database=prn221_trial;trustservercertificate=true;
integrated security=true" microsoft.entityframeworkcore.sqlserver --output-dir DataAccess
2. update onConfiguring
protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)
    {
        var connectionString = new ConfigurationBuilder()
                            .SetBasePath(Directory.GetCurrentDirectory())
                            .AddJsonFile("appsettings.json").Build().GetConnectionString("MyDB");
        optionsBuilder.UseSqlServer(connectionString );
    }
3. update connectionString trong appsettings.json
,"ConnectionStrings":{
"MyDB": "server=(local); uid=sa; password=123; database=prn221_trial;trustservercertificate=true; integrated security=true"
}
4. trỏ Page -> Add -> Razor Page -> empty


List<Order> orders = _context.Orders
                    .Include(o => o.Employee)
                    .Where(od => od.OrderDetails.Any(od => od.ProductId == product.Product.ProductId)).ToList();

dotnet add package BCrypt.Net-Next --version 6.0.0
dotnet add package Microsoft.AspNetCore.Authentication.JwtBearer --version 6.0.0
dotnet add package Microsoft.EntityFrameworkCore.Design --version 6.0.0
dotnet add package Microsoft.EntityFrameworkCore.SqlServer --version 6.0.0
dotnet add package Microsoft.VisualStudio.Web.CodeGeneration.Design --version 6.0.0
dotnet add package System.IdentityModel.Tokens.Jwt --version 6.0.0
dotnet add package RestSharp --version 6.0.0

https://localhost:5001/Home/PaymentCallBack?partnerCode=MOMOBKUN20180529&accessKey=klm05TvNBzhg7h7j&requestId=638424326538742313&amount=1000&orderId=638424326538742313&orderInfo=Vuvu15202VTV%20ck&orderType=momo_wallet&transId=3976209883&message=Success&localMessage=Th%C3%A0nh%20c%C3%B4ng&responseTime=2024-02-02%2008:05:46&errorCode=0&payType=web&extraData=&signature=38aba9d9597497363034f2b55bc5236b033f7e22789e78943b58d0435208c9bb